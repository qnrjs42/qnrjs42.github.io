<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.e53586a225ffdde20c86.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><meta name="generator" content="Gatsby 3.10.2"/><title data-react-helmet="true">[Note] 배움의 노트</title><meta data-react-helmet="true" name="description" content="배웠던 내용을 적어보자."/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0"/><meta data-react-helmet="true" http-equiv="Content-Type" content="text/html;charset=UTF-8"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="[Note] 배움의 노트"/><meta data-react-helmet="true" property="og:description" content="배웠던 내용을 적어보자."/><meta data-react-helmet="true" property="og:image" content="/static/278efc06a08028148932e21e3890c27b/profile-image.jpg"/><meta data-react-helmet="true" property="og:url"/><meta data-react-helmet="true" property="og:site_name" content="[Note] 배움의 노트"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="[Note] 배움의 노트"/><meta data-react-helmet="true" name="twitter:description" content="배웠던 내용을 적어보자."/><meta data-react-helmet="true" name="twitter:image" content="/static/278efc06a08028148932e21e3890c27b/profile-image.jpg"/><meta data-react-helmet="true" name="twitter:site" content="qnrjs42"/><meta data-react-helmet="true" name="twitter:creator" content="qnrjs42"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="icon" href="/favicon-32x32.png?v=bf838b0138809da3e2a591d048e72774" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#B980F0"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=bf838b0138809da3e2a591d048e72774"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=bf838b0138809da3e2a591d048e72774"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=bf838b0138809da3e2a591d048e72774"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=bf838b0138809da3e2a591d048e72774"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=bf838b0138809da3e2a591d048e72774"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=bf838b0138809da3e2a591d048e72774"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=bf838b0138809da3e2a591d048e72774"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=bf838b0138809da3e2a591d048e72774"/><link rel="canonical" href="https://qnrjs42.github.io/note/dev-note" data-baseprotocol="https:" data-basehost="qnrjs42.github.io"/><link as="script" rel="preload" href="/webpack-runtime-66e86aede1f06606c988.js"/><link as="script" rel="preload" href="/framework-0e788e7fdd0a59304366.js"/><link as="script" rel="preload" href="/app-54b8620d746b97836817.js"/><link as="script" rel="preload" href="/cb1608f2-10dfe2e87ca0c3a35fc0.js"/><link as="script" rel="preload" href="/a9a7754c-e009b6283d87450d0b5f.js"/><link as="script" rel="preload" href="/a0048f0fed09b4ba10b7796332ce0a0dcd99fa17-3b689a80dfe3981f9db9.js"/><link as="script" rel="preload" href="/component---src-templates-post-template-tsx-e62e97da60b94de67ea3.js"/><link as="fetch" rel="preload" href="/page-data/note/dev-note/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css 1u4knlt">.css-1u4knlt{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100vh;color:rgb(61, 61, 63);font-size:16px;}@media (max-width: 414px){.css-1u4knlt{font-size:14px;}}@media (max-width: 320px){.css-1u4knlt{font-size:12px;}}</style><main class="css-1u4knlt e17pn9rd0"><style data-emotion="css-global 1fwjl13">@import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard-dynamic-subset.css');*{padding:0;margin:0;box-sizing:border-box;font-family:Pretendard,-apple-system,'Apple SD Gothic Neo','Nanum Myeongjo',sans-serif;}html,body,#___gatsby{height:100%;}a,a:hover{color:inherit;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}</style><style data-emotion="css 5cwj1i">.css-5cwj1i{width:100%;border-bottom:1px solid rgb(230, 230, 230);color:rgb(61, 61, 63);}</style><header class="css-5cwj1i ewjhl9o8"><style data-emotion="css zm323v">.css-zm323v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;max-width:1024px;height:60px;margin:0 auto;}@media (max-width: 1024px){.css-zm323v{width:100%;padding:0 20px;}}</style><div class="css-zm323v ewjhl9o7"><style data-emotion="css fhxb3m">.css-fhxb3m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-fhxb3m ewjhl9o6"><a href="/"><h3 class="css-0 ewjhl9o5">CHOI BOO 블로그</h3></a><style data-emotion="css 3i1y2s">.css-3i1y2s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-left:5px;margin-right:auto;}</style><nav class="css-3i1y2s ewjhl9o4"><a href="/categories"><style data-emotion="css nd6a9t">.css-nd6a9t{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:15px;}</style><div class="css-nd6a9t ewjhl9o3"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bookmark" class="svg-inline--fa fa-bookmark fa-w-12 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" color="#B980F0"><path fill="currentColor" d="M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"></path></svg><style data-emotion="css 6j8eu5">.css-6j8eu5{margin-left:3px;}@media (max-width: 375px){.css-6j8eu5{display:none;}}</style><div class="css-6j8eu5 ewjhl9o1">카테고리</div></div></a><a href="/note/techknology"><div class="css-nd6a9t ewjhl9o3"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="journal-whills" class="svg-inline--fa fa-journal-whills fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" color="#B980F0"><path fill="currentColor" d="M438.40625,377.59375c-3.20313,12.8125-3.20313,57.60937,0,73.60937Q447.9922,460.78907,448,470.40625v16c0,16-12.79688,25.59375-25.59375,25.59375H96c-54.40625,0-96-41.59375-96-96V96C0,41.59375,41.59375,0,96,0H422.40625C438.40625,0,448,9.59375,448,25.59375v332.8125Q448,372.79688,438.40625,377.59375ZM380.79688,384H96c-16,0-32,12.79688-32,32s12.79688,32,32,32H380.79688ZM128.01562,176.01562c0,.51563.14063.98438.14063,1.5l37.10937,32.46876A7.99954,7.99954,0,0,1,160,224h-.01562a9.17678,9.17678,0,0,1-5.25-1.98438L131.14062,201.375C142.6875,250.95312,186.90625,288,240,288s97.3125-37.04688,108.875-86.625l-23.59375,20.64062a8.02516,8.02516,0,0,1-5.26563,1.96876H320a9.14641,9.14641,0,0,1-6.01562-2.71876A9.26508,9.26508,0,0,1,312,216a9.097,9.097,0,0,1,2.73438-6.01562l37.10937-32.46876c.01563-.53124.15625-1,.15625-1.51562,0-11.04688-2.09375-21.51562-5.06251-31.59375l-21.26562,21.25a8.00467,8.00467,0,0,1-11.32812-11.3125l26.42187-26.40625a111.81517,111.81517,0,0,0-46.35937-49.26562,63.02336,63.02336,0,0,1-14.0625,82.64062A55.83846,55.83846,0,0,1,251.625,254.73438l-1.42188-34.28126,12.67188,8.625a3.967,3.967,0,0,0,2.25.6875,3.98059,3.98059,0,0,0,3.43749-6.03124l-8.53124-14.3125,17.90625-3.71876a4.00647,4.00647,0,0,0,0-7.84374l-17.90625-3.71876,8.53124-14.3125a3.98059,3.98059,0,0,0-3.43749-6.03124,4.726,4.726,0,0,0-2.25.67187L248.6875,184.125,244,71.82812a4.00386,4.00386,0,0,0-8,0l-4.625,110.8125-12-8.15624a4.003,4.003,0,0,0-5.68751,5.35937l8.53126,14.3125L204.3125,197.875a3.99686,3.99686,0,0,0,0,7.82812l17.90625,3.73438-8.53126,14.29688a4.72469,4.72469,0,0,0-.56249,2.04687,4.59547,4.59547,0,0,0,1.25,2.90625,4.01059,4.01059,0,0,0,2.75,1.09375,4.09016,4.09016,0,0,0,2.25-.6875l10.35937-7.04687L228.375,254.76562a55.86414,55.86414,0,0,1-28.71875-93.45312,63.01119,63.01119,0,0,1-14.04688-82.65625,111.93158,111.93158,0,0,0-46.375,49.26563l26.42187,26.42187a7.99917,7.99917,0,0,1-11.3125,11.3125l-21.26563-21.26563C130.09375,154.48438,128,164.95312,128.01562,176.01562Z"></path></svg><div class="css-6j8eu5 ewjhl9o1">문서</div></div></a></nav><style data-emotion="css 751w7w">.css-751w7w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (max-width: 375px){.css-751w7w{display:none;}}</style><div class="css-751w7w ewjhl9o0"><a href="/about"><div class="css-nd6a9t ewjhl9o3"><style data-emotion="css 1k82171">.css-1k82171{font-size:1.25em;}</style><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="user-circle" class="svg-inline--fa fa-user-circle fa-w-16  css-1k82171 ewjhl9o2" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"></path></svg></div></a><div class="css-nd6a9t ewjhl9o3"><a href="https://github.com/qnrjs42" target="_blank" rel="noreferrer noopener"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-w-16  css-1k82171 ewjhl9o2" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></div></div></div></div></header><style data-emotion="css 3cf5y">.css-3cf5y{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:768px;margin:0 auto;margin-top:60px;margin-bottom:20px;}@media (max-width: 768px){.css-3cf5y{width:100%;padding:0px 20px;}}</style><section class="css-3cf5y e1yj0w164"><style data-emotion="css 8cete2">.css-8cete2{font-size:2.625em;color:#B980F0;margin-bottom:8px;}</style><h1 class="css-8cete2 e1yj0w163">[Note] 배움의 노트</h1><style data-emotion="css 9n8d4o">.css-9n8d4o{font-size:1em;font-weight:400;opacity:0.7;margin-bottom:16px;}</style><div class="css-9n8d4o e1yj0w162">2021.03.09</div><style data-emotion="css jovua5">.css-jovua5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}</style><div class="css-jovua5 e1yj0w161"><style data-emotion="css t4l0m6">.css-t4l0m6{margin-right:20px;margin-bottom:10px;background-color:rgb(241, 243, 245);border-radius:1rem;padding:5px 10px;color:#B980F0;}</style><div class="css-t4l0m6 e1yj0w160">Note</div></div></section><style data-emotion="css 13ly1mr">.css-13ly1mr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;margin:0 auto;padding:50px 0;word-break:break-all;color:rgb(61, 61, 63);line-height:1.8;font-size:16px;font-weight:400;}.css-13ly1mr deckgo-highlight-code{margin:10px 0 20px 0;}.css-13ly1mr p{padding:3px 0;}.css-13ly1mr h1,.css-13ly1mr h2,.css-13ly1mr h3{font-weight:800;margin-bottom:30px;}.css-13ly1mr *+h1,.css-13ly1mr *+h2{margin-top:60px;}.css-13ly1mr *+h3{margin-top:30px;}.css-13ly1mr hr+h1,.css-13ly1mr hr+h2,.css-13ly1mr hr+h3{margin-top:0;}.css-13ly1mr h1{font-size:1.875em;}.css-13ly1mr h2{font-size:1.5625em;}.css-13ly1mr h3{font-size:1.25em;}.css-13ly1mr blockquote{margin:30px 0;padding:5px 15px;border-left:2px solid #000000;font-weight:800;}.css-13ly1mr ol,.css-13ly1mr ul{margin-left:20px;}.css-13ly1mr hr{border:1px solid #000000;margin:100px 0;}.css-13ly1mr a{color:#B980F0;-webkit-text-decoration:underline;text-decoration:underline;}.css-13ly1mr pre[class*='language-']{margin:30px 0;padding:15px;font-size:15px;}.css-13ly1mr pre[class*='language-']::-webkit-scrollbar-thumb{background:rgba(255, 255, 255, 0.5);border-radius:3px;}.css-13ly1mr code[class*='language-'],.css-13ly1mr pre[class*='language-']{tab-size:2;}@media (max-width: 768px){.css-13ly1mr{width:100%;padding:20px 20px;line-height:1.6;font-size:14px;}.css-13ly1mr img{width:100%;}.css-13ly1mr hr{margin:50px 0;}}</style><section class="css-13ly1mr elj7atq0"><h2>[21-03-09 업데이트 내용]</h2><p>Link: <a href="https://searchengineland.com/the-google-page-experience-update-user-experience-to-become-a-google-ranking-factor-335252" title="Go">Google 페이지 경험 업데이트. Google 순위 요소가 되는 사용자 경험</a></p><ul><li>LCP <!-- -->[Largest Contentful Paint]<!-- -->: 로딩 성능을 측정합니다.</li><li>좋은 사용자 경험을 제공하기 위해 사이트는 페이지가 로드 되기 시작한 후 처음 2.5초 이내에 LCP가 발생 하도록 노력해야 한다.</li></ul><deckgo-highlight-code>
          <code slot="code">0 ~ 2.5 second : GOOD
2.5 ~ 4.0 second : NEEDS IMPROVEMENT
2.5 ~ 4.0 second : POOR</code>
        </deckgo-highlight-code><br/><ul><li>FID <!-- -->[First Input Delay]<!-- -->: 첫 번째 입력 지연. 상호 작용을 측정합니다.</li><li>좋은 사용자 경험을 제공하기 위해 사이트는 100 millisecond 미만의 FID를 갖도록 노력해야 한다.</li></ul><deckgo-highlight-code>
          <code slot="code">0 ~ 0.1 millisecond : GOOD
0.1 ~ 0.3 millisecond : NEEDS IMPROVEMENT
0.3 &gt; millisecond : POOR</code>
        </deckgo-highlight-code><br/><ul><li>CLS <!-- -->[Cumlative Layout Shift]<!-- -->: 시각적 안정성을 측정합니다.</li><li>좋은 사용자 환경을 제공하려면 사이트에서 CLS 점수가 0.1 미만이 되도록 노력해야 한다.</li></ul><deckgo-highlight-code>
          <code slot="code">0 ~ 0.1 : GOOD
0.1 ~ 0.25 : NEEDS IMPROVEMENT
0.25 &gt; : POOR</code>
        </deckgo-highlight-code><hr/><h2>[20-09-17 업데이트 내용]</h2><h3>next.config.js파일</h3><p>next.config.js는 npm run dev나 npm run build할 때 실행된다.</p><deckgo-highlight-code language="json">
          <code slot="code">// /front/package.json
&quot;build&quot;: &quot;ANALYZE=true NODE_ENV=production next build&quot;,</code>
        </deckgo-highlight-code><p>근데 리눅스나 맥에서는 되지만 윈도우에서 되지 않는다</p><p>되게 하려면 &#x27;cross-env&#x27; 모듈 설치</p><hr/><h3>swr</h3><p>swr은 next에서 만든 라이브러리
load할 때는 편함</p><p>단점은 SSR이 힘듦
SSR은 필요없고 불러와야하는 데이터에서 사용</p><hr/><h3>URL 주소 한글 사용방법, axios 요청 시 ERR_UNESCAPED_CHARACTERS 에러 해결방법</h3><p>TypeError <!-- -->[ERR_UNESCAPED_CHARACTERS]<!-- -->: Request path contains unescaped characters</p><p>// 크롬-콘솔<br/>
encodeURIComponent(&#x27;리액트&#x27;)<br/>
-&gt; &quot;%EB%A6%AC%EC%95%A1%ED%8A%B8&quot;</p><p>decodeURIComponent(&#x27;%EB%A6%AC%EC%95%A1%ED%8A%B8&#x27;)<br/>
-&gt; &#x27;리액트&#x27;</p><deckgo-highlight-code language="javascript">
          <code slot="code">// /front/sagas/post.js

function loadHashtagPostsAPI(data, lastId) {
  return axios.get(`/hashtag/${encodeURIComponent(data)}?lastId=${lastId || 0}`);
}</code>
        </deckgo-highlight-code><deckgo-highlight-code language="javascript">
          <code slot="code">// /back/routes/hashtag.js

include: [
  {
    model: Hashtag,
    where: {
      name: decodeURIComponent(req.params.hashtag),
    },
  },
  ...
]</code>
        </deckgo-highlight-code><hr/><h3>동적(다이나믹) 라우팅</h3><p>// /front/pages/post/<!-- -->[id]<!-- -->.js</p><hr/><h3>SSR 쿠키 공유 <!-- -->[getServerSideProps]</h3><deckgo-highlight-code language="javascript">
          <code slot="code">// /front/pages/index.js

// getServerSideProps가 Home보다 먼저 실행된다
export const getServerSideProps = wrapper.getServerSideProps((context) =&gt; {
  context.store.dispatch({
    type: LOAD_MY_INFO_REQUEST,
  });
  context.store.dispatch({
    type: LOAD_POSTS_REQUEST,
  });

  // REQUEST가 SUCCESS가 될 때까지 기다려줌
  context.store.dispatch(END);
  await context.store.sagaTask.toPromise(); // 해당 코드는 store/configureStore - store.sagaTask = sagaMiddleware.run(rootSaga);
});</code>
        </deckgo-highlight-code><hr/><h3>SSR 쿠키 공유(2) <!-- -->[getStaticProps]</h3><p>getServerSideProps: 접속할 때마다 접속한 상황에 따라서 화면이 바껴야할 때 사용 (웬만할 때 사용)
getStaticProps: 언제 접속해도 데이터가 바뀔 일이 없을 때 사용, 게시글 하나 올려두고 계속 두는 것 (사용하기 까다로움, 잘 안 씀)</p><deckgo-highlight-code language="javascript">
          <code slot="code">// /front/pages/about.js
export const getStaticProps = wrapper.getStaticProps(async (context) =&gt; {
  console.log(&#x27;getStaticProps&#x27;);
  context.store.dispatch({
    type: LOAD_USER_REQUEST,
    data: 1,
  });
  context.store.dispatch(END);
  await context.store.sagaTask.toPromise();
});</code>
        </deckgo-highlight-code><hr/><h3>Component 렌더링 전에 데이터 로드</h3><p>화면에 그려지기 전에 먼저 데이터를 불러온다면 데이터가 채워진 채로 화면이 그려진다.</p><p>Component보다 먼저 렌더링 실행하는 함수: getInitialProps
하지만 곧 없어질 예정</p><p>그 대신 Next 9버전 부터 새로운 함수가 나옴</p><deckgo-highlight-code language="javascript">
          <code slot="code">// /front/pages/index.js

import { END } from &quot;redux-saga&quot;;
import wrapper from &quot;../store/configureStore&quot;;

const Home = () =&gt; {
  ...

  // getServerSideProps를 사용하게 되면 이 부분에서 useEffect는 안 쓰고 getServerSideProps안에서 사용
  //   useEffect(() =&gt; {
  //   dispatch({
  //     type: LOAD_MY_INFO_REQUEST,
  //   });
  //   dispatch({
  //     type: LOAD_POSTS_REQUEST,
  //   });
  // }, []);

  return () {
    ...
  }
};

// getServerSideProps가 Home보다 먼저 실행된다
export const getServerSideProps = wrapper.getServerSideProps((context) =&gt; {
  context.store.dispatch({
    type: LOAD_MY_INFO_REQUEST,
  });
  context.store.dispatch({
    type: LOAD_POSTS_REQUEST,
  });

  // REQUEST가 SUCCESS가 될 때까지 기다려줌
  context.store.dispatch(END);
  await context.store.sagaTask.toPromise(); // 해당 코드는 store/configureStore - store.sagaTask = sagaMiddleware.run(rootSaga);
});

export default Home;</code>
        </deckgo-highlight-code><p>getServerSideProps는 순전히 프론트 서버에서만 실행이 되고,
Home은 브라우저와 프론트 서버에서 실행이 된다.</p><p>context.store 정보가 들어있는 것들을 reducers/index.js - HYDRATE 액션이 실행되면서 정보들을 받는다</p><deckgo-highlight-code language="javascript">
          <code slot="code">// /front/reducers/index.js

// 아래 코드는 index - index, user, post로 구성 되어있어서 덮어쓰기에 문제가 발생
// const rootReducer = combineReducers({
//   index: (state = {}, action) =&gt; {
//     switch (action.type) {
//       case HYDRATE:
//         console.log(&quot;HYDRATE&quot;, action);
//         return {
//           ...state,
//           ...action.payload,
//         };

//       default:
//         return state;
//     }
//   },
//   user,
//   post,
// });

// 아래 코드를 해야 rootReducer 상태 전체를 덮어씌울 수 있음
const rootReducer = (state, action) =&gt; {
  switch (action.type) {
    case HYDRATE:
      console.log(&#x27;HYDRATE&#x27;, action);
      return action.payload;
    default: {
      const combineReducer = combineReducers({
        user,
        post,
      });
      return combineReducer(state, action);
    }
  }
};</code>
        </deckgo-highlight-code><hr/><h3>NEXTjs SSR 적용</h3><deckgo-highlight-code language="javascript">
          <code slot="code">// /front/pages/_app.js

next-redux-saga 모듈 필요 없어짐</code>
        </deckgo-highlight-code><p>있어도 상관 없지만 dependencies 모듈이라 배포할 때 껴서 되기때문에 필요없으니깐 지워주도록 한다.</p><hr/><h3>반복문안에서 데이터를 넘기고 싶을 때 (고차함수)</h3><p>반복문안에서 onClick() 을 통해 반복문에 대한 데이터 넘겨줘야할 때</p><deckgo-highlight-code language="react">
          <code slot="code">{% raw %}
// /front/component/FollowList.js

const onCancel = (id) =&gt; () =&gt; {
    if (header === &quot;팔로잉&quot;) {
      dispatch({
        type: UNFOLLOW_REQUEST,
        data: id,
      });
    }
    dispatch({
      type: REMOVE_FOLLOWER_REQUEST,
      data: id,
    });
  };

renderItem={(item) =&gt; (
  &lt;List.Item style={{ marginTop: 20 }}&gt;
    &lt;Card
      actions={[
        &lt;StopOutlined key=&quot;stop&quot; onClick={onCancel(item.id)} /&gt;,
      ]}
    &gt;
      &lt;Card.Meta description={item.nickname} /&gt;
    &lt;/Card&gt;
  &lt;/List.Item&gt;
)}
{% endraw %}</code>
        </deckgo-highlight-code><hr/><h3>Form return</h3><p>hooks보다 아래에 return을 써줘야 한다</p><p>hooks: useCallback, useMemo</p><hr/><h3>더미데이터</h3><p>shortid : 겹치기 힘든 ID 생성
faker : 가짜 데이터들 생성</p><deckgo-highlight-code language="javascript">
          <code slot="code">import shortId from &#x27;shortid&#x27;;
import faker from &#x27;faker&#x27;;

id: shortId.generate();

initialState.mainPosts = initialState.mainPosts.concat(
  Array(20)
    .fill()
    .map(() =&gt; ({
      id: shortId.generate(),
      User: {
        id: shortId.generate(),
        nickname: faker.name.findName(),
      },
      content: faker.lorem.paragraph(),
      Images: [
        {
          src: faker.image.image(),
        },
      ],
      Comments: [
        {
          User: {
            id: shortId.generate(),
            nickname: faker.name.findName(),
          },
          content: faker.lorem.sentence(),
        },
      ],
    })),
);</code>
        </deckgo-highlight-code><hr/><h3>게시글 안에서 해시태그 추출하는 방법</h3><p><a href="http://www.regexr.com">www.regexr.com</a></p><deckgo-highlight-code language="react">
          <code slot="code">{
  postData.split(/(#[^\s#]+)/g).map((v, index) =&gt; {
    if (v.match(/(#[^\s#]+)/g)) {
      return (
        &lt;Link href={`/hashtag/${v.slice(1)}`} key={index}&gt;
          &lt;a&gt;{v}&lt;/a&gt;
        &lt;/Link&gt;
      );
    }
    return v;
  });
}</code>
        </deckgo-highlight-code><p><strong>//g</strong>
-&gt; g가 붙으면 여러개</p><p><strong>/#/g</strong>
-&gt; 모든 # 선택</p><p><strong>/#/</strong>
-&gt; 첫 번째 #만 선택</p><p><strong>/#./g</strong>
-&gt; 모든 #뒤에 첫문자 선택</p><p><strong>/#.../g</strong>
-&gt; # 뒤에 세문자 선택</p><p><strong>/#.+/g</strong>
-&gt; #뒤에 모든 문자 선택</p><p><strong>/#<!-- -->[해익제]<!-- -->+/g</strong>
-&gt; #뒤에 첫문자가 해, 익, 제인 문자 선택</p><p><strong>/#<sup id="fnref-해익제"><a href="#fn-해익제" class="footnote-ref">해익제</a></sup>+/g</strong>
-&gt; #뒤에 첫문자가 해, 익, 제인 문자 제외한 모든 문자 선택</p><p><strong>/#<sup id="fnref-\s"><a href="#fn-\s" class="footnote-ref">\s</a></sup>+/g</strong>
-&gt; 공백이 들어간 문자 제거</p><p><strong>/#<sup id="fnref-\s#"><a href="#fn-\s#" class="footnote-ref">\s#</a></sup>+/g</strong>
-&gt; 공백과 #이 들어간 문자 제거<br/>
즉, 문자가 &#x27;#첫번째 #두번째&#x27;, &#x27;#가나다#라마바&#x27;인 경우 #첫번째 #두번째 #가나다 #라마바
이렇게 잘라낼 수 있다</p><p><strong>.split(/(#<sup id="fnref-\s#"><a href="#fn-\s#" class="footnote-ref">\s#</a></sup>+)/g)</strong>
split인 경우 중간에 괄호를 포함시켜줘야 한다</p><hr/><h3>styled-components 태그안에 태그 접근할 때</h3><deckgo-highlight-code language="javascript">
          <code slot="code">import styled from &#x27;styled-components&#x27;;

const ImgWrapper = styled.div`
  padding: 32px;
  text-align: center;

  &amp; img {
    margin: 0 auto;
    max-height: 750px;
  }
`;

{
  images.map((v) =&gt; (
    &lt;ImgWrapper key={v.src}&gt;
      &lt;img src={v.src} alt={v.src} /&gt;
    &lt;/ImgWrapper&gt;
  ));
}</code>
        </deckgo-highlight-code><h2>[20-09-12 업데이트 내용]</h2><h3>True -&gt; False, False -&gt; True, prev</h3><p>True -&gt; False
False -&gt; True 만드는 코드는 아래처럼 작성하자</p><deckgo-highlight-code language="javascript">
          <code slot="code">const [liked, setLiked] = useState(false);

const onToggleLike = useCallback(() =&gt; {
  setLiked((prev) =&gt; !prev);
}, []);</code>
        </deckgo-highlight-code><p>prev는 liked의 이전 데이터가 담겨져 있다</p><hr/><h3>옵셔널 체이닝 (optional chaining)</h3><deckgo-highlight-code language="javascript">
          <code slot="code">const id = me?.id;

const id = useSelector((state) =&gt; state.user.me?.id);</code>
        </deckgo-highlight-code><p>풀어서 쓰면</p><deckgo-highlight-code language="javascript">
          <code slot="code">const id = me &amp;&amp; me.id;

const id = useSelector((state) =&gt; state.user.me &amp;&amp; state.user.me.id);</code>
        </deckgo-highlight-code><hr/><h3>PropTypes</h3><p>PropTypes 객체 상세하게 정의해줄 때 PropTypes.shape() 사용</p><deckgo-highlight-code language="javascript">
          <code slot="code">PostCard.propTypes = {
  post: PropTypes.shape({
    id: PropTypes.number,
    User: PropTypes.object,
    content: PropTypes.string,
    createAt: PropTypes.object,
    Comments: PropTypes.arrayOf(PropTypes.object),
    Images: PropTypes.arrayOf(PropTypes.object),
  }).isRequired,
};</code>
        </deckgo-highlight-code><hr/><h3>useRef</h3><deckgo-highlight-code language="javascript">
          <code slot="code">import { useRef } from &#x27;react&#x27;;
useRef(); // 실제 DOM에 접근하기 위해 사용</code>
        </deckgo-highlight-code><hr/><h3>반복문 배열 안에 컴포넌트 key</h3><deckgo-highlight-code language="javascript">
          <code slot="code">{mainPosts.map((post, index) =&gt; &lt;PostCard key={index} post={post} /&gt;}
// 게시글이 지워질 가능성이 있을 경우나 중간에 추가, 순서가 달라질 수 있을 때에도 key에 index를 쓰면 안 된다
// 다만 반복문이 있고 바뀔 가능성이 없을 때 key를 index로 사용해도 된다</code>
        </deckgo-highlight-code><p>그리고 배열 안에 JSX(컴포넌트, \&lt;PostCard<!-- -->&gt;<!-- -->처럼)안에 key를 줘야한다</p><h3>Nextjs onFinish preventDefault</h3><deckgo-highlight-code language="react">
          <code slot="code">&lt;Form onFinish={onSubmitForm}&gt;</code>
        </deckgo-highlight-code><p>onFinish는 이미 preventDefault가 정의되어 있음</p><hr/><h3>useCallback과 useMemo 차이</h3><p>useCallback: 함수 캐싱<br/>
useMemo: 값 캐싱</p><deckgo-highlight-code language="react">
          <code slot="code">const onChangeId = useCallback((e) =&gt; {
  setId(e.target.value);
}, []);

const style = useMemo(
  () =&gt; ({
    marginTop: 10,
  }),
  []
);

&lt;ButtonWrapper style={style}&gt;버튼&lt;/ButtonWrapper&gt;</code>
        </deckgo-highlight-code><hr/><h3>인라인 스타일 {} === {}: false</h3><deckgo-highlight-code language="react">
          <code slot="code">{% raw %}&lt;div style={{ marginTop: &quot;10px&quot; }}&gt;&lt;/div&gt;{% endraw %}</code>
        </deckgo-highlight-code><p>이런식으로 코딩하면 리렌더링 될 때마다 페이지 return()함수가 실행되는데<br/>
{} === {} : false이기 때문에 이전 버전이랑 검사하면서 바뀐 부분만 리렌더링하는데 저 부분을 바뀐게 없어도 리렌더링해버린다.</p><p>그래서 쓰는게 <strong>styled-components</strong></p><hr/><h3>useCallback 최적화</h3><p>컴포넌트에 props로 넘겨주는 함수는 useCallback을 꼭 써야 최적화가 된다.</p><deckgo-highlight-code language="javascript">
          <code slot="code">const onSubmitForm = useCallback(() =&gt; {}, []);</code>
        </deckgo-highlight-code><deckgo-highlight-code language="react">
          <code slot="code">&lt;Form onFinish={onSubmitForm}&gt;...&lt;/Form&gt;</code>
        </deckgo-highlight-code><hr/><h3>noreferrer noopner</h3><deckgo-highlight-code language="react">
          <code slot="code">&lt;a href=&quot;https://www.naver.com&quot; target=&quot;_blank&quot; rel=&quot;noreferrer noopner&quot;&gt;
  Made by Naver
&lt;/a&gt;</code>
        </deckgo-highlight-code><p>rel=&quot;noreferrer noopner&quot; 는 보안 위협 제거 해준다.</p><hr/><h3>반응형 디자인 개발 순서</h3><p>반응형 디자인할 때 작은거 -&gt; 큰거 순으로 개발
모바일 -&gt; 데스크탑순</p><hr/><h3>Nextjs 모든 페이지에 적용</h3><p>Next는 기본적으로 Webpack 내장되어 있음
CSS 파일을 보는 순간 스타일태그를 HTML로 넣어준다.</p><p>모든 페이지에 적용시킬 때 pages/<!-- -->_<!-- -->app.js 파일에 코드 작성</p><deckgo-highlight-code language="react">
          <code slot="code">// pages/_app.js 예)
import Head from &quot;next/head&quot;;
import &quot;antd/dist/antd.css&quot;;

const NodeBird = ({ Component }) =&gt; {
  return (
    &lt;&gt;
      &lt;Head&gt;
        &lt;meta charSet=&quot;utf-8&quot; /&gt;
        &lt;title&gt;NodeBird&lt;/title&gt;
      &lt;/Head&gt;
      &lt;Component /&gt;
    &lt;/&gt;
  );
};

...</code>
        </deckgo-highlight-code><p>pages/<!-- -->_<!-- -->app.js의 { Component }는 pages 파일들의(index, profile, signup 등등) 부모라고 생각하면 된다.</p><hr/><h3>CORS</h3><p>브라우저 - 백엔드 서버 간에 CORS 설정 해줘야 한다.</p><hr/><h3>npmtrends.com</h3><p>npmtrends.com : npm 다운로드 수 비교</p><p>_<!-- -->app.js파일은 pages 페이지들의 공통 페이지</p><p>html의 head부분을 바꾸고 싶을 땐 <!-- -->_<!-- -->app.js/import Head from &#x27;next/head&#x27;</p><hr/><h3>Nextjs SSR</h3><p>Next.js는 SSR을 쉽게 만들어 줌<br/></p><deckgo-highlight-code language="javascript">
          <code slot="code">import Ract from &#x27;react&#x27;; // Nextjs에서 작성하지 않아도 됨</code>
        </deckgo-highlight-code><p>Next.js는 pages 폴더를 인식하기 때문에 pages 폴더는 꼭 있어야 한다.<br/></p><p>주소 동적 라우팅할 때 <!-- -->[name]<!-- -->.js 대괄호를 붙이면 된다.</p><hr/><h3>SEO</h3><p>검색엔진에서 처음 로딩 페이지가 나오면 이 페이지는 컨텐츠가 없다고 판단하여 검색엔진에서 순위가 확 떨어질 수 있다.<br/>
구글 검색엔진은 똑똑해서 조금 기다리면 데이터가 온다는걸 알지만 다른 검색엔진은 그렇지 않다.<br/></p><p>검색엔진에서는 모든 데이터를 불러오는 <span style="color:#fe5783"><u>서버 사이드 렌더링 (SSR)</u></span><br/></p><span style="font-size:14px">브라우저 (Blog 페이지 요청) -&gt; 프론트 서버 (post 요청) -&gt; 백엔드 서버 (실제 데이터 요청) -&gt; 데이터베이스<br/>데이터베이스 (실제 데이터 전달)-&gt; 백엔드 서버 (post 전달) -&gt; 프론트 서버 (Blog 페이지 전달) -&gt; 브라우저</span><p>방문한 페이지만 보여주는 <span style="color:#fe5783"><u>클라이언트 사이드 렌더링 (CSR) 또는 Single Page Application (SPA)</u></span><br/></p><span style="font-size:14px">브라우저 -&gt; 프론트 서버 (어떤 페이지를 요청하던 그 페이지의 HTML, CSS, JS, IMG정도만 전달) -&gt; 브라우저 (화면은 그려지나 데이터가 없음)<br/>한 번더 요청을 보냄 브라우저 -&gt; 백엔드 서버 (post) -&gt; 데이터베이스 -&gt; 백엔드 서버 -&gt; 브라우저</span><p>프리렌더는 검색엔진일 경우 SSR 형식, 일반유저일 경우 CSR 형식 <br/>
근데 복잡하다</p><p>SSR과 코드 스플릿은 무조건 적용시키는게 좋다<br/>
검색 엔진 노출, 최적화<br/>
적용할 필요 없는 페이지 -&gt; admin 페이지<br/></p></section><style data-emotion="css w6aqqx">.css-w6aqqx{display:grid;place-items:center;margin-top:auto;padding:50px 0;font-size:0.875em;text-align:center;line-height:1.5;}</style><footer class="css-w6aqqx e1f2kxnr0">© CHOI BOO 2021</footer></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/note/dev-note";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-41be9d73206716d9b7ee.js"],"app":["/app-54b8620d746b97836817.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-ed590e043448a10f93ea.js"],"component---src-pages-categories-index-tsx":["/component---src-pages-categories-index-tsx-92fa679c514645dc0154.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-0638c90cb7ad57cbc7dc.js"],"component---src-pages-info-tsx":["/component---src-pages-info-tsx-e87326403f799ebd7549.js"],"component---src-templates-post-template-tsx":["/component---src-templates-post-template-tsx-e62e97da60b94de67ea3.js"]};/*]]>*/</script><script src="/polyfill-41be9d73206716d9b7ee.js" nomodule=""></script><script src="/component---src-templates-post-template-tsx-e62e97da60b94de67ea3.js" async=""></script><script src="/a0048f0fed09b4ba10b7796332ce0a0dcd99fa17-3b689a80dfe3981f9db9.js" async=""></script><script src="/a9a7754c-e009b6283d87450d0b5f.js" async=""></script><script src="/cb1608f2-10dfe2e87ca0c3a35fc0.js" async=""></script><script src="/app-54b8620d746b97836817.js" async=""></script><script src="/framework-0e788e7fdd0a59304366.js" async=""></script><script src="/webpack-runtime-66e86aede1f06606c988.js" async=""></script></body></html>